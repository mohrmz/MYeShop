@model MYShop.Web.UI.Models.HomeViewModel
@{
    ViewData["Title"] = "Index";
}
<section>
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-2 sidebar">
                <h2 class="subject">دسته بندی محصولات</h2>
                <div class="category-products">
                    @await Component.InvokeAsync("Category")
                </div>
            </div>
            <div class="col-md-9 content">
                <h2 class="subject">لیست محصولات</h2>
                <div class="features_items">
                    @foreach (var item in Model.Result.Items)
                    {
                    
                        <div class="product-image-wrapper">
                            <div class="single-products">
                                <div class="productinfo">
                                    <a asp-action="Product" asp-controller="Home" asp-route-productId="@item.ProductID" >

                                        <p>@item.Name</p>

                                        @{

                                            var base64 = Convert.ToBase64String(@item.Image);
                                            var imgSrc = String.Format("data:image/jpg;base64,{0}", base64);
                                        }

                                        <img src="@imgSrc" class="img img-responsive" />

                                        <h2 class="font-y">@item.Price.ToString("#,###") <span>ریال</span> </h2>


                                    </a>
                                    <a asp-action="AddToCart" asp-controller="Cart" asp-route-productId="@item.ProductID" class="btn  add-to-cart"><i class="fa fa-shopping-cart"></i>افزودن به سبد</a>
                                    @if (Model.Category != 0)
                                    {
                                    <div class="choose">
                                        <ul>
                                           
                                            <li><a asp-action="Compare" asp-controller="Home" asp-route-ProductID="@item.ProductID" ><i class="fa fa-plus-square"></i>مقایسه</a></li>
                                        </ul>
                                        
                                    </div>
                                    }
                                </div>

                            </div>
                        </div>
                   
                    }



                </div>
                <nav page-model="@Model.Result.pagingData" page-action="index" page-contoller="home" page-category="@Model.Category"></nav>




            </div>
        </div>
    
    </div>
</section>


